{"version":3,"sources":["assets/js/filedrag.js"],"names":["id","document","getElementById","Output","msg","m","innerHTML","FileDragHover","e","stopPropagation","preventDefault","target","className","type","FileSelectHandler","files","dataTransfer","i","f","ParseFile","file","URL","createObjectURL","Init","fileselect","filedrag","submitbutton","addEventListener","xhr","XMLHttpRequest","upload","style","display","window","File","FileList","FileReader"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,CAAC,YAAW;AAEX;AACA,WAASA,EAAT,CAAYA,EAAZ,EAAgB;AACf,WAAOC,QAAQ,CAACC,cAAT,CAAwBF,EAAxB,CAAP;AACA,GALU,CAOX;;;AACA,WAASG,MAAT,CAAgBC,GAAhB,EAAqB;AACpB,QAAIC,CAAC,GAAGL,EAAE,CAAC,UAAD,CAAV;AACAK,IAAAA,CAAC,CAACC,SAAF,IAAeF,GAAf;AACA,GAXU,CAaX;;;AACA,WAASG,aAAT,CAAuBC,CAAvB,EAA0B;AACzBA,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACAF,IAAAA,CAAC,CAACG,MAAF,CAASC,SAAT,GAAsBJ,CAAC,CAACK,IAAF,IAAU,UAAV,GAAuB,OAAvB,GAAiC,EAAvD;AACA,GAlBU,CAoBX;;;AACA,WAASC,iBAAT,CAA2BN,CAA3B,EAA8B;AAE7B;AACAD,IAAAA,aAAa,CAACC,CAAD,CAAb,CAH6B,CAK7B;;AACA,QAAIO,KAAK,GAAGP,CAAC,CAACG,MAAF,CAASI,KAAT,IAAkBP,CAAC,CAACQ,YAAF,CAAeD,KAA7C,CAN6B,CAQ7B;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAR,EAAWC,CAAhB,EAAmBA,CAAC,GAAGH,KAAK,CAACE,CAAD,CAA5B,EAAiCA,CAAC,EAAlC,EAAsC;AACrCE,MAAAA,SAAS,CAACD,CAAD,CAAT;AACA;AACD,GAjCU,CAmCX;;;AACA,WAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACxBjB,IAAAA,MAAM,sBACWkB,GAAG,CAACC,eAAJ,CAAoBF,IAApB,CADX,WAAN;AAGA,GAxCU,CA0CV;;;AACD,WAASG,IAAT,GAAgB;AACf,QAAIC,UAAU,GAAGxB,EAAE,CAAC,YAAD,CAAnB;AAAA,QACCyB,QAAQ,GAAGzB,EAAE,CAAC,UAAD,CADd;AAAA,QAEC0B,YAAY,GAAG1B,EAAE,CAAC,cAAD,CAFlB,CADe,CAKf;;AACAwB,IAAAA,UAAU,CAACG,gBAAX,CAA4B,QAA5B,EAAsCb,iBAAtC,EAAyD,KAAzD,EANe,CAQf;;AACA,QAAIc,GAAG,GAAG,IAAIC,cAAJ,EAAV;;AACA,QAAID,GAAG,CAACE,MAAR,EAAgB;AAEf;AACAL,MAAAA,QAAQ,CAACE,gBAAT,CAA0B,UAA1B,EAAsCpB,aAAtC,EAAqD,KAArD;AACAkB,MAAAA,QAAQ,CAACE,gBAAT,CAA0B,WAA1B,EAAuCpB,aAAvC,EAAsD,KAAtD;AACAkB,MAAAA,QAAQ,CAACE,gBAAT,CAA0B,MAA1B,EAAkCb,iBAAlC,EAAqD,KAArD;AACAW,MAAAA,QAAQ,CAACM,KAAT,CAAeC,OAAf,GAAyB,OAAzB,CANe,CAQf;;AACAN,MAAAA,YAAY,CAACK,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACA;AACD,GAhEU,CAkEX;;;AACA,MAAIC,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACE,QAAtB,IAAkCF,MAAM,CAACG,UAA7C,EAAyD;AACxDb,IAAAA,IAAI;AACJ;AACD,CAtED","file":"filedrag.37beab99.map","sourceRoot":"..","sourcesContent":["\n(function() {\n\n\t// getElementById\n\tfunction id(id) {\n\t\treturn document.getElementById(id);\n\t}\n\n\t// output information\n\tfunction Output(msg) {\n\t\tvar m = id(\"messages\");\n\t\tm.innerHTML += msg;\n\t}\n\n\t// file drag hover\n\tfunction FileDragHover(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t\te.target.className = (e.type == \"dragover\" ? \"hover\" : \"\");\n\t}\n\n\t// file selection\n\tfunction FileSelectHandler(e) {\n\n\t\t// cancel event and hover styling\n\t\tFileDragHover(e);\n\n\t\t// fetch FileList object\n\t\tvar files = e.target.files || e.dataTransfer.files;\n\n\t\t// process all File objects\n\t\tfor (var i = 0, f; f = files[i]; i++) {\n\t\t\tParseFile(f);\n\t\t}\n\t}\n\n\t// output file information\n\tfunction ParseFile(file) {\n\t\tOutput(\n      `<img src=\"${URL.createObjectURL(file)}\" />`\n\t\t);\n\t}\n\n  // initialize\n\tfunction Init() {\n\t\tvar fileselect = id(\"fileselect\"),\n\t\t\tfiledrag = id(\"filedrag\"),\n\t\t\tsubmitbutton = id(\"submitbutton\");\n\n\t\t// file select\n\t\tfileselect.addEventListener(\"change\", FileSelectHandler, false);\n\n\t\t// is XHR2 available?\n\t\tvar xhr = new XMLHttpRequest();\n\t\tif (xhr.upload) {\n\n\t\t\t// file drop\n\t\t\tfiledrag.addEventListener(\"dragover\", FileDragHover, false);\n\t\t\tfiledrag.addEventListener(\"dragleave\", FileDragHover, false);\n\t\t\tfiledrag.addEventListener(\"drop\", FileSelectHandler, false);\n\t\t\tfiledrag.style.display = \"block\";\n\n\t\t\t// remove submit button\n\t\t\tsubmitbutton.style.display = \"none\";\n\t\t}\n\t}\n\n\t// call initialization file\n\tif (window.File && window.FileList && window.FileReader) {\n\t\tInit();\n\t}\n})();"]}